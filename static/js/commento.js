!function(N,i){"use strict";var n,t,r,m="commento",a="commento-main-area",c="commento-login",H="commento-login-box-container",T="commento-login-box",C="commento-login-box-email-subtitle",L="commento-login-box-email-input",u="commento-login-box-password-input",p="commento-login-box-name-input",v="commento-login-box-website-input",M="commento-login-box-email-button",S="commento-login-box-forgot-link-container",B="commento-login-box-login-link-container",E="commento-login-box-sso-pretext",D="commento-login-box-sso-buttton-container",A="commento-login-box-hr1",R="commento-login-box-oauth-pretext",O="commento-login-box-oauth-buttons-container",I="commento-login-box-hr2",l="commento-mod-tools",d="commento-mod-tools-lock-button",s="commento-error",f="commento-logged-container",h="commento-comments-area",y="commento-textarea-super-container-",g="commento-textarea-container-",x="commento-textarea-",b="commento-anonymous-checkbox-",U="commento-comment-card-",P="commento-comment-body-",q="commento-comment-text-",j="commento-comment-subtitle-",W="commento-comment-timeago-",Y="commento-comment-score-",F="commento-comment-options-",J="commento-comment-edit-",_="commento-comment-reply-",V="commento-comment-collapse-",X="commento-comment-upvote-",z="commento-comment-downvote-",G="commento-comment-approve-",$="commento-comment-remove-",K="commento-comment-sticky-",Q="commento-comment-children-",Z="commento-comment-contents-",ee="commento-comment-name-",w="commento-submit-button-",oe="commento-markdown-button-",ne="commento-markdown-help-",k="https://commento.io",te="https://cdn.commento.io",ie=null,re=!1,me=[],ae={},ce={},le=!0,de=!1,se=!1,ue=!1,pe=!1,ve="none",fe={},he={},ge={},xe="login",be=!1,we=void 0,ke=null;function ye(e){return i.getElementById(e)}function He(e,o){e.prepend(o)}function Te(e,o){e.appendChild(o)}function Ce(e,o){e.parentNode.insertBefore(o,e.nextSibling)}function Le(e,o){e.classList.add("commento-"+o)}function Me(e,o){null!==e&&e.classList.remove("commento-"+o)}function Se(e){return i.createElement(e)}function Be(e){null!==e&&e.parentNode.removeChild(e)}function Ne(e,o){var n=e.attributes[o];if(void 0!==n)return n.value}function Ee(e){if(null!==e){var o=e.cloneNode(!0);if(null!==e.parentNode)return e.parentNode.replaceChild(o,e),o}return e}function De(e,o,n){e.addEventListener("click",function(){o(n)},!1)}function Ae(e,o,n){e.setAttribute(o,n)}function Re(e,o,n){var t=new XMLHttpRequest;t.open("POST",e,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){n(JSON.parse(t.response))},t.send(JSON.stringify(o))}function Oe(e){"function"==typeof e&&e()}function Ie(e,o){var n,t=new Date;t.setTime(t.getTime()+31536e6),n="; expires="+t.toUTCString(),i.cookie=e+"="+o+n+"; path=/"}function Ue(){var e=function(e){var o=("; "+i.cookie).split("; "+e+"=");if(2===o.length)return o.pop().split(";").shift()}("commentoCommenterToken");return void 0===e?"anonymous":e}function Pe(e){ce[e.commenterHex]=e,we=e.commenterHex;var o,n,t=Se("div"),i=Se("div");o="undefined"!==e.link?Se("a"):Se("div");var r=Se("div"),m=Xe(e.commenterHex+"-"+e.name);t.id=f,Le(t,"logged-container"),Le(i,"logged-in-as"),Le(o,"name"),Le(r,"logout"),o.innerText=e.name,r.innerText="Logout",De(r,N.logout),Ae(t,"style","display: none"),"undefined"!==e.link&&Ae(o,"href",e.link),"undefined"===e.photo?((n=Se("div")).style.background=m,n.innerHTML=e.name[0].toUpperCase(),Le(n,"avatar")):(Ae(n=Se("img"),"src",te+"/api/commenter/photo?commenterHex="+e.commenterHex),Le(n,"avatar-img")),Te(i,n),Te(i,o),Te(t,i),Te(t,r),He(ie,t),re=!0}function qe(o){if("anonymous"===Ue())return re=!1,void Oe(o);var e={commenterToken:Ue()};Re(k+"/api/commenter/self",e,function(e){if(!e.success)return Ie("commentoCommenterToken","anonymous"),void Oe(o);Pe(e.commenter),N.allShow(),Oe(o)})}function je(e,o){var n=Se("link"),t=i.getElementsByTagName("head")[0];n.type="text/css",Ae(n,"href",e),Ae(n,"rel","stylesheet"),Ae(n,"onload",o),Te(t,n)}function We(e){var o=ye(s);o.innerText=e,Ae(o,"style","display: block;")}function Ye(){Ae(ye(s),"style","display: none;")}function Fe(e){var o=ye(y+e),n=ye(oe+e),t=Se("table"),i=Se("tr"),r=Se("td"),m=Se("td"),a=Se("tr"),c=Se("td"),l=Se("td"),d=Se("tr"),s=Se("td"),u=Se("td"),p=Se("tr"),v=Se("td"),f=Se("td"),h=Se("tr"),g=Se("td"),x=Se("td"),b=Se("tr"),w=Se("td"),k=Se("td");t.id=ne+e,Le(t,"markdown-help"),c.innerHTML="<b>bold</b>",l.innerHTML="surround text with <pre>**two asterisks**</pre>",r.innerHTML="<i>italics</i>",m.innerHTML="surround text with <pre>*asterisks*</pre>",s.innerHTML="<pre>code</pre>",u.innerHTML="surround text with <pre>`backticks`</pre>",v.innerHTML="<strike>strikethrough</strike>",f.innerHTML="surround text with <pre>~~two tilde characters~~</pre>",g.innerHTML='<a href="https://example.com">hyperlink</a>',x.innerHTML="<pre>[hyperlink](https://example.com)</pre> or just a bare URL",w.innerHTML="<blockquote>quote</blockquote>",k.innerHTML="prefix with <pre>&gt;</pre>",De(n=Ee(n),Je,e),Te(i,r),Te(i,m),Te(t,i),Te(a,c),Te(a,l),Te(t,a),Te(h,g),Te(h,x),Te(t,h),Te(d,s),Te(d,u),Te(t,d),Te(p,v),Te(p,f),Te(t,p),Te(b,w),Te(b,k),Te(t,b),Te(o,t)}function Je(e){var o=ye(oe+e),n=ye(ne+e);De(o=Ee(o),Fe,e),Be(n)}function _e(e,o){var n=Se("div"),t=Se("div"),i=Se("textarea"),r=Se("div"),m=Se("input"),a=Se("label"),c=Se("button"),l=Se("a");return n.id=y+e,t.id=g+e,i.id=x+e,m.id=b+e,c.id=w+e,l.id=oe+e,Le(t,"textarea-container"),Le(r,"round-check"),Le(r,"anonymous-checkbox-container"),Le(c,"button"),Le(c,"submit-button"),Le(l,"markdown-button"),Le(n,"button-margin"),Ae(i,"placeholder","Add a comment"),Ae(m,"type","checkbox"),Ae(a,"for",b+e),a.innerText="Comment anonymously",c.innerText=!0===o?"Save Changes":"Add Comment",l.innerHTML="<b>M &#8595;</b> &nbsp; Markdown",i.oninput=function(e){return function(){e.style.height="",e.style.height=Math.min(Math.max(e.scrollHeight,75),400)+"px"}}(i),De(c,!0===o?Ke:Ze,e),De(l,Fe,e),Te(t,i),Te(n,t),Te(r,m),Te(r,a),Te(n,c),le||!0===o||Te(n,r),Te(n,l),n}function Ve(e){var o=Se("div");return Le(o,"moderation-notice"),o.innerText=e,o}function Xe(e){for(var o=["#396ab1","#da7c30","#3e9651","#cc2529","#922428","#6b4c9a","#535154"],n=0,t=0;t<e.length;t++)n+=e.charCodeAt(t);return o[n%o.length]}function ze(e){return 1!==e?e+" points":e+" point"}function Ge(L,M){var e=L[M];if(!e||!e.length)return null;e.sort(function(e,o){return e.deleted||e.commentHex!==ve?o.deleted||o.commentHex!==ve?e.score!==o.score?o.score-e.score:e.creationDate<o.creationDate?-1:1:1/0:-1/0});var S=(new Date).getTime(),B=Se("div");return e.forEach(function(e){var o,n,t=ce[e.commenterHex],i=Se("div"),r=Se("div"),m=Se("div"),a=Se("div"),c=Se("div"),l=Se("div"),d=Se("div"),s=Se("div"),u=Se("button"),p=Se("button"),v=Se("button"),f=Se("button"),h=Se("button"),g=Se("button"),x=Se("button"),b=Se("button"),w=Ge(L,e.commentHex),k=Se("div"),y=Xe(e.commenterHex+"-"+t.name);if(n="undefined"!==t.link&&"https://undefined"!==t.link&&""!==t.link?Se("a"):Se("div"),i.id=U+e.commentHex,l.id=P+e.commentHex,d.id=q+e.commentHex,m.id=j+e.commentHex,a.id=W+e.commentHex,c.id=Y+e.commentHex,s.id=F+e.commentHex,u.id=J+e.commentHex,p.id=_+e.commentHex,v.id=V+e.commentHex,f.id=X+e.commentHex,h.id=z+e.commentHex,g.id=G+e.commentHex,x.id=$+e.commentHex,b.id=K+e.commentHex,w&&(w.id=Q+e.commentHex),k.id=Z+e.commentHex,n.id=ee+e.commentHex,v.title="Collapse children",f.title="Upvote",h.title="Downvote",u.title="Edit",p.title="Reply",g.title="Approve",x.title="Remove",ve===e.commentHex?b.title=de?"Unsticky":"This comment has been stickied":b.title="Sticky",a.title=e.creationDate.toString(),i.style.borderLeft="2px solid "+y,e.deleted?n.innerText="[deleted]":n.innerText=t.name,d.innerHTML=e.html,a.innerHTML=function(e,o){var n=e-o;return n<5e3?"just now":n<6e4?Math.round(n/1e3)+" seconds ago":n<36e5?Math.round(n/6e4)+" minutes ago":n<864e5?Math.round(n/36e5)+" hours ago":n<2592e6?Math.round(n/864e5)+" days ago":n<94608e7?Math.round(n/2592e6)+" months ago":Math.round(n/94608e7)+" years ago"}(S,e.creationDate),c.innerText=ze(e.score),"undefined"===t.photo?((o=Se("div")).style.background=y,"anonymous"===e.commenterHex?(o.innerHTML="?",o.style["font-weight"]="bold"):o.innerHTML=t.name[0].toUpperCase(),Le(o,"avatar")):(Ae(o=Se("img"),"src",te+"/api/commenter/photo?commenterHex="+t.commenterHex),Le(o,"avatar-img")),Le(i,"card"),de&&"approved"!==e.state&&Le(i,"dark-card"),t.isModerator&&Le(n,"moderator"),"flagged"===e.state&&Le(n,"flagged"),Le(r,"header"),Le(n,"name"),Le(m,"subtitle"),Le(a,"timeago"),Le(c,"score"),Le(l,"body"),Le(s,"options"),ke&&Le(s,"options-mobile"),Le(u,"option-button"),Le(u,"option-edit"),Le(p,"option-button"),Le(p,"option-reply"),Le(v,"option-button"),Le(v,"option-collapse"),Le(f,"option-button"),Le(f,"option-upvote"),Le(h,"option-button"),Le(h,"option-downvote"),Le(g,"option-button"),Le(g,"option-approve"),Le(x,"option-button"),Le(x,"option-remove"),Le(b,"option-button"),ve===e.commentHex?Le(b,"option-unsticky"):Le(b,"option-sticky"),re&&(0<e.direction?Le(f,"upvoted"):e.direction<0&&Le(h,"downvoted")),De(u,N.editShow,e.commentHex),De(v,N.commentCollapse,e.commentHex),De(g,N.commentApprove,e.commentHex),De(x,N.commentDelete,e.commentHex),De(b,N.commentSticky,e.commentHex),re){var H=$e(f,h,e.commentHex,e.direction);f=H[0],h=H[1]}else De(f,N.loginBoxShow,null),De(h,N.loginBoxShow,null);De(p,N.replyShow,e.commentHex),"undefined"!==t.link&&"https://undefined"!==t.link&&""!==t.link&&Ae(n,"href",t.link),Te(s,v),e.deleted||(Te(s,h),Te(s,f)),e.commenterHex===we?Te(s,u):e.deleted||Te(s,p),!e.deleted&&de&&"root"===M&&Te(s,b),e.deleted||!de&&e.commenterHex!==we||Te(s,x),de&&"approved"!==e.state&&Te(s,g),e.deleted||de||ve!==e.commentHex||Te(s,b),Ae(s,"style","width: "+32*(s.childNodes.length+1)+"px;");for(var T=0;T<s.childNodes.length;T++)Ae(s.childNodes[T],"style","right: "+32*T+"px;");if(Te(m,c),Te(m,a),ke||Te(r,s),Te(r,o),Te(r,n),Te(r,m),Te(l,d),Te(k,l),ke){Te(k,s);var C=Se("div");Le(C,"options-clearfix"),Te(k,C)}w&&(Le(w,"body"),Te(k,w)),Te(i,r),Te(i,k),Te(B,i)}),B}function $e(e,o,n,t){return e=Ee(e),o=Ee(o),0<t?(De(e,N.vote,[n,[1,0]]),De(o,N.vote,[n,[1,-1]])):t<0?(De(e,N.vote,[n,[-1,1]]),De(o,N.vote,[n,[-1,0]])):(De(e,N.vote,[n,[0,1]]),De(o,N.vote,[n,[0,-1]])),[e,o]}function Ke(i){var e=ye(x+i),r=e.value;if(""!==r){Me(e,"red-border");var o={commenterToken:Ue(),commentHex:i,markdown:r};Re(k+"/api/comment/edit",o,function(e){if(e.success){Ye(),ae[i].markdown=r,ae[i].html=e.html;var o=ye(J+i),n=ye(y+i);n.innerHTML=ae[i].html,n.id=q+i,delete he[i],Le(o,"option-edit"),Me(o,"option-cancel"),o.title="Edit comment",De(o=Ee(o),N.editShow,i);var t="";"unapproved"===e.state?t="Your comment is under moderation.":"flagged"===e.state&&(t="Your comment was flagged as spam and is under moderation."),""!==t&&He(ye(y+i),Ve(t))}else We(e.message)})}else Le(e,"red-border")}function Qe(e){re?N.commentNew(e,Ue()):N.loginBoxShow(e)}function Ze(e){if(le)Qe(e);else{var o=ye(b+e),n=ye(x+e);if(""!==n.value)return Me(n,"red-border"),o.checked?void function(e){ue=!0,N.commentNew(e,"anonymous")}(e):void Qe(e);Le(n,"red-border")}}function o(e){ye(m).innerHTML="",fe={},N.main(e)}function eo(e,o,n){Re(k+"/api/commenter/login",{email:e,password:o},function(e){if(!e.success)return N.loginBoxClose(),void We(e.message);Ye(),Ie("commentoCommenterToken",e.commenterToken),Pe(e.commenter),N.allShow(),Be(ye(c)),null!==n?N.commentNew(n,e.commenterToken,function(){N.loginBoxClose()}):N.loginBoxClose()})}function oo(o){var e={isLocked:pe,stickyCommentHex:ve},n={commenterToken:Ue(),domain:parent.location.host,path:parent.location.pathname,attributes:e};Re(k+"/api/page/update",n,function(e){e.success?(Ye(),Oe(o)):We(e.message)})}function e(){for(var e=function(e){return i.getElementsByTagName(e)}("script"),o=0;o<e.length;o++)e[o].src.match(/\/js\/commento\.js$/)&&(n=Ne(e[o],"data-css-override"),r=Ne(e[o],"data-auto-init"),void 0===(m=Ne(e[o],"data-id-root"))&&(m="commento"),t=Ne(e[o],"data-no-fonts"))}N.logout=function(){Ie("commentoCommenterToken","anonymous"),de=re=!1,we=void 0,o()},N.commentNew=function(i,r,m){var a=ye(y+i),c=ye(x+i),l=ye(_+i),d=c.value;if(""!==d){Me(c,"red-border");var e={commenterToken:r,domain:parent.location.host,path:parent.location.pathname,parentHex:i,markdown:d};Re(k+"/api/comment/new",e,function(e){if(e.success){Ye();var o="";"unapproved"===e.state?o="Your comment is under moderation.":"flagged"===e.state&&(o="Your comment was flagged as spam and is under moderation."),""!==o&&He(ye(y+i),Ve(o));var n=we;void 0!==n&&"anonymous"!==r||(n="anonymous");var t=Ge({root:[{commentHex:e.commentHex,commenterHex:n,markdown:d,html:e.html,parentHex:"root",score:0,state:"approved",direction:0,creationDate:new Date}]},"root");"root"!==i?(a.replaceWith(t),fe[i]=!1,Le(l,"option-reply"),Me(l,"option-cancel"),l.title="Reply to this comment",De(l,N.replyShow,i)):(c.value="",Ce(a,t)),Oe(m)}else We(e.message)})}else Le(c,"red-border")},N.commentApprove=function(i){var e={commenterToken:Ue(),commentHex:i};Re(k+"/api/comment/approve",e,function(e){if(e.success){Ye();var o=ye(U+i),n=ye(ee+i),t=ye(G+i);Me(o,"dark-card"),Me(n,"flagged"),Be(t)}else We(e.message)})},N.commentDelete=function(o){if(confirm("Are you sure you want to delete this comment?")){var e={commenterToken:Ue(),commentHex:o};Re(k+"/api/comment/delete",e,function(e){e.success?(Ye(),ye(q+o).innerText="[deleted]"):We(e.message)})}},N.vote=function(e){var o=e[0],n=e[1][0],t=e[1][1],i=ye(X+o),r=ye(z+o),m=ye(Y+o),a={commenterToken:Ue(),commentHex:o,direction:t},c=$e(i,r,o,t);i=c[0],r=c[1],Me(i,"upvoted"),Me(r,"downvoted"),0<t?Le(i,"upvoted"):t<0&&Le(r,"downvoted"),m.innerText=ze(parseInt(m.innerText.replace(/[^\d-.]/g,""))+t-n),Re(k+"/api/comment/vote",a,function(e){if(!e.success)return We(e.message),Me(i,"upvoted"),Me(r,"downvoted"),m.innerText=ze(parseInt(m.innerText.replace(/[^\d-.]/g,""))-t+n),void $e(i,r,o,n);Ye()})},N.editShow=function(e){if(!(e in he&&he[e])){var o=ye(q+e);he[e]=!0,o.replaceWith(_e(e,!0)),ye(x+e).value=ae[e].markdown;var n=ye(J+e);Me(n,"option-edit"),Le(n,"option-cancel"),n.title="Cancel edit",De(n=Ee(n),N.editCollapse,e)}},N.editCollapse=function(e){var o=ye(J+e),n=ye(y+e);n.innerHTML=ae[e].html,n.id=q+e,delete he[e],Le(o,"option-edit"),Me(o,"option-cancel"),o.title="Edit comment",De(o=Ee(o),N.editShow,e)},N.replyShow=function(e){if(!(e in fe&&fe[e])){Ce(ye(q+e),_e(e)),fe[e]=!0;var o=ye(_+e);Me(o,"option-reply"),Le(o,"option-cancel"),o.title="Cancel reply",De(o=Ee(o),N.replyCollapse,e)}},N.replyCollapse=function(e){var o=ye(_+e);ye(y+e).remove(),delete fe[e],Le(o,"option-reply"),Me(o,"option-cancel"),o.title="Reply to this comment",De(o=Ee(o),N.replyShow,e)},N.commentCollapse=function(e){var o=ye(Q+e),n=ye(V+e);o&&Le(o,"hidden"),Me(n,"option-collapse"),Le(n,"option-uncollapse"),n.title="Expand children",De(n=Ee(n),N.commentUncollapse,e)},N.commentUncollapse=function(e){var o=ye(Q+e),n=ye(V+e);o&&Me(o,"hidden"),Me(n,"option-uncollapse"),Le(n,"option-collapse"),n.title="Collapse children",De(n=Ee(n),N.commentCollapse,e)},N.commentoAuth=function(e){var n=e.provider,t=e.id,i=window.open("","_blank");!function(e,o){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){o(JSON.parse(n.response))},n.send(null)}(k+"/api/commenter/token/new",function(o){if(o.success){Ye(),Ie("commentoCommenterToken",o.commenterToken),i.location=k+"/api/oauth/"+n+"/redirect?commenterToken="+o.commenterToken;var e=setInterval(function(){i.closed&&(clearInterval(e),qe(function(){var e=ye(f);e&&Ae(e,"style",""),"anonymous"!==Ue()&&Be(ye(c)),null!==t?N.commentNew(t,o.commenterToken,function(){N.loginBoxClose()}):N.loginBoxClose()}))},250)}else We(o.message)})},N.popupRender=function(n){var e=ye(H),o=Se("div"),t=Se("div"),i=Se("div"),r=Se("div"),m=Se("hr"),a=Se("div"),c=Se("div"),l=Se("div"),d=Se("hr"),s=Se("div"),u=Se("div"),p=Se("div"),v=Se("input"),f=Se("button"),h=Se("div"),g=Se("a"),x=Se("div"),b=Se("a"),w=Se("div");o.id=T,s.id=C,v.id=L,f.id=M,h.id=S,x.id=B,i.id=D,t.id=E,m.id=A,a.id=R,c.id=O,d.id=I,Le(e,"login-box-container"),Le(o,"login-box"),Le(s,"login-box-subtitle"),Le(u,"email-container"),Le(p,"email"),Le(v,"input"),Le(f,"email-button"),Le(h,"forgot-link-container"),Le(g,"forgot-link"),Le(x,"login-link-container"),Le(b,"login-link"),Le(t,"login-box-subtitle"),Le(i,"oauth-buttons-container"),Le(r,"oauth-buttons"),Le(a,"login-box-subtitle"),Le(c,"oauth-buttons-container"),Le(l,"oauth-buttons"),Le(w,"login-box-close"),Le(ie,"root-min-height"),g.innerText="Forgot your password?",b.innerText="Don't have an account? Sign up.",s.innerText="Login with your email address",f.innerText="Continue",a.innerText="Proceed with social login",t.innerText="Proceed with "+parent.location.host+" authentication",De(f,N.passwordAsk,n),De(g,N.forgotPassword,n),De(b,N.popupSwitch,n),De(w,N.loginBoxClose),Ae(e,"style","display: none; opacity: 0;"),Ae(v,"name","email"),Ae(v,"placeholder","Email address"),Ae(v,"type","text");var k=0;if(["google","twitter","github","gitlab"].forEach(function(e){if(ge[e]){var o=Se("button");Le(o,"button"),Le(o,e+"-button"),o.innerText=e,De(o,N.commentoAuth,{provider:e,id:n}),Te(l,o),k++}}),ge.sso){var y=Se("button");Le(y,"button"),Le(y,"sso-button"),y.innerText="Single Sign-On",De(y,N.commentoAuth,{provider:"sso",id:n}),Te(r,y),Te(i,r),Te(o,t),Te(o,i),(0<k||ge.commento)&&Te(o,m)}be=0<k&&(Te(o,a),Te(c,l),Te(o,c),!0),Te(p,v),Te(p,f),Te(u,p),Te(h,g),Te(x,b),0<k&&ge.commento&&Te(o,d),ge.commento&&(Te(o,s),Te(o,u),Te(o,h),Te(o,x)),Te(o,w),xe="login",e.innerHTML="",Te(e,o)},N.forgotPassword=function(){window.open("","_blank").location=k+"/forgot?commenter=true",N.loginBoxClose()},N.popupSwitch=function(e){var o=ye(C);be&&(Be(ye(O)),Be(ye(R)),Be(ye(A)),Be(ye(I))),ge.sso&&(Be(ye(D)),Be(ye(E)),Be(ye(A)),Be(ye(I))),Be(ye(B)),Be(ye(S)),o.innerText="Create an account",xe="signup",N.passwordAsk(e),ye(L).focus()},N.login=function(e){var o=ye(L),n=ye(u);eo(o.value,n.value,e)},N.signup=function(o){var n=ye(L),e=ye(p),t=ye(v),i=ye(u),r={email:n.value,name:e.value,website:t.value,password:i.value};Re(k+"/api/commenter/new",r,function(e){if(!e.success)return N.loginBoxClose(),void We(e.message);Ye(),eo(n.value,i.value,o)})},N.passwordAsk=function(e){var o,n,t,i,r=ye(T),m=ye(C);Be(ye(M)),Be(ye(B)),Be(ye(S)),be&&0<ge.length&&(Be(ye(A)),Be(ye(I)),Be(ye(R)),Be(ye(O))),i="signup"===xe?(o=["name","website","password"],n=[p,v,u],t=["text","text","password"],["Real Name","Website (Optional)","Password"]):(o=["password"],n=[u],t=["password"],["Password"]),m.innerText="signup"===xe?"Finish the rest of your profile to complete.":"Enter your password to log in.";for(var a=0;a<o.length;a++){var c=Se("div"),l=Se("div"),d=Se("input");if(d.id=n[a],Le(c,"email-container"),Le(l,"email"),Le(d,"input"),Ae(d,"name",o[a]),Ae(d,"type",t[a]),Ae(d,"placeholder",i[a]),Te(l,d),Te(c,l),"password"===o[a]){var s=Se("button");Le(s,"email-button"),s.innerText=xe,De(s,"signup"===xe?N.signup:N.login,e),Te(l,s)}Te(r,c)}"signup"===xe?ye(p).focus():ye(u).focus()},N.threadLockToggle=function(){var e=ye(d);pe=!pe,e.disabled=!0,oo(function(){e.disabled=!1,o()})},N.commentSticky=function(o){if("none"!==ve){var e=ye(K+ve);null===e?ve="none":(Me(e,"option-unsticky"),Le(e,"option-sticky"))}ve=ve===o?"none":o,oo(function(){var e=ye(K+o);ve===o?(Me(e,"option-sticky"),Le(e,"option-unsticky")):(Me(e,"option-unsticky"),Le(e,"option-sticky"))})},N.loadCssOverride=function(){void 0===n?N.allShow():je(n,"window.commento.allShow()")},N.allShow=function(){var e=ye(a),o=ye(l),n=ye(f);Ae(e,"style",""),de&&Ae(o,"style",""),n&&Ae(n,"style","")},N.loginBoxClose=function(){var e=ye(a),o=ye(H);Me(e,"blurred"),Me(ie,"root-min-height"),Ae(o,"style","display: none")},N.loginBoxShow=function(e){var o=ye(a),n=ye(H);N.popupRender(e),Le(o,"blurred"),Ae(n,"style",""),window.location.hash=H,ye(L).focus()};var no=!(N.main=function(e){if(null!==(ie=ye(m))){null===ke&&(ke=ie.getBoundingClientRect().width<450),Le(ie,"root"),"true"!==t&&Le(ie,"root-font"),function(){var e=Se("div");e.id=H,Te(ie,e)}(),function(){var e=Se("div");e.id=s,Le(e,"error-box"),Ae(e,"style","display: none;"),Te(ie,e)}(),function(){var e=Se("div");e.id=a,Le(e,"main-area"),Ae(e,"style","display: none"),Te(ie,e)}();var o=function(){var e=Se("div"),o=Se("div"),n=Se("a"),t=Se("span");return e.id="commento-footer",Le(e,"footer"),Le(o,"logo-container"),Le(n,"logo"),Le(t,"logo-text"),Ae(n,"href","https://commento.io"),Ae(n,"target","_blank"),t.innerText="Commento",Te(n,t),Te(o,n),Te(e,o),e}();je(te+"/css/commento.css","window.commento.loadCssOverride()"),qe(function(){!function(o){var e={commenterToken:Ue(),domain:parent.location.host,path:parent.location.pathname};Re(k+"/api/comment/list",e,function(e){e.success?(Ye(),le=e.requireIdentification,de=e.isModerator,se=e.isFrozen,pe=e.attributes.isLocked,ve=e.attributes.stickyCommentHex,me=e.comments,ce=Object.assign({},ce,e.commenters),ge=e.configuredOauths,Oe(o)):We(e.message)})}(function(){!function(){var e=Se("div"),o=Se("button");e.id=l,o.id=d,Le(e,"mod-tools"),o.innerHTML=pe?"Unlock Thread":"Lock Thread",De(o,N.threadLockToggle),Ae(e,"style","display: none"),Te(e,o),Te(ie,e)}(),function(e){var o=Se("div"),n=Se("div"),t=ye(a),i=Se("div");o.id=c,i.id=h,Le(o,"login"),Le(n,"login-text"),Le(i,"comments"),n.innerText="Login",i.innerHTML="",De(n,N.loginBoxShow,null),Te(o,n),pe||se?re||ue?(Te(t,Ve("This thread is locked. You cannot add new comments.")),Be(ye(c))):(Te(t,o),Te(t,_e("root"))):(re?Be(ye(c)):Te(t,o),Te(t,_e("root"))),Te(t,i),Te(ie,t),Oe(e)}(function(){!function(){var o,n={},e=ye(h);me.forEach(function(e){(o=e.parentHex)in n||(n[o]=[]),e.creationDate=new Date(e.creationDate),n[o].push(e),ae[e.commentHex]={html:e.html,markdown:e.markdown}});var t=Ge(n,"root");t&&Te(e,t)}(),Te(ie,o),function(){if(window.location.hash)if(window.location.hash.startsWith("#commento-")){var e=ye(U+window.location.hash.split("-")[1]);if(null===e)return;Le(e,"highlighted-card"),e.scrollIntoView(!0)}else window.location.hash.startsWith("#commento")&&ie.scrollIntoView(!0)}(),N.allShow(),function(){for(var e=i.getElementsByClassName("commento-name"),o=0;o<e.length;o++)Ae(e[o],"style","max-width: "+(e[o].getBoundingClientRect().width+20)+"px;")}(),Oe(e)})})})}else console.log("[commento] error: no root element with ID '"+m+"' found")});function to(){no||(no=!0,e(),"true"===r||void 0===r?N.main(void 0):"false"!==r&&console.log("[commento] error: invalid value for data-auto-init; allowed values: true, false"))}var io=function(){var e=i.readyState;"loading"===e?i.addEventListener("readystatechange",io):"interactive"===e?to():"complete"===e&&to()};io()}(window.commento,document);